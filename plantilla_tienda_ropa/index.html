<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EVANOVA | Épica Digital UY</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.1/css/all.min.css"
        integrity="sha512-2SwdPD6INVrV/lHTZbO2nodKhrnDdJK9/kg2XD1r9uGqPo1cUbujc+IYdlYdEErWNu69gVcYgdxlmVmzTWnetw=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="style.css">
    <link rel="icon" href="img/thumb-icon.png">

</head>

<body>
    <!-- Header -->
    <header>
        <div class="logo">
            <a href="index.html"><img src="img/icon-logo.png" alt="logo evanova"></a>
        </div>
        <a href="#"><i class="fa-solid fa-cart-shopping"></i></a>
    </header>
    <!-- Banner -->
    <section class="slider-container">
        <div class="slider-images">
            <div class="slider-img">
                <img src="img/banner/calzas.png" alt="1" />
                <div class="details">
                    <h2>Calzas</h2>
                    <p>Lorem ipsum dolor sit amet.</p>
                </div>
            </div>
            <div class="slider-img">
                <img src="img/banner/camperas.png" alt="2" />
                <div class="details">
                    <h2>abrigo</h2>
                    <p>Lorem ipsum dolor sit amet.</p>
                </div>
            </div>
            <div class="slider-img">
                <img src="img/banner/championes.png" alt="3" />
                <div class="details">
                    <h2>calzado</h2>
                    <p>Lorem ipsum dolor sit amet.</p>
                </div>
            </div>
            <div class="slider-img">
                <img src="img/banner/medias.png" alt="4" />
                <div class="details">
                    <h2>medias</h2>
                    <p>Lorem ipsum dolor sit amet.</p>
                </div>
            </div>
            <div class="slider-img">
                <img src="img/banner/pantalones.png" alt="5" />
                <div class="details">
                    <h2>pantalones</h2>
                    <p>Lorem ipsum dolor sit amet.</p>
                </div>
            </div>
            <div class="slider-img">
                <img src="img/banner/remeras.png" alt="6" />
                <div class="details">
                    <h2>remeras</h2>
                    <p>Lorem ipsum dolor sit amet.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Main content-->

    <!-- Catálogo -->
    <section id="catalog" class="catalog-section">
        <div class="container">
            <h2>Catálogo</h2>

            <div class="catalog-controls">
                <div class="search-wrap">
                    <input id="catalog-search" type="search"
                        placeholder="Buscar productos, p.ej. 'calzas negras' o 'algodón'">
                    <button id="clear-search" type="button" title="Limpiar">✕</button>
                </div>

                <div class="category-filters" aria-label="Filtrar por categoría">
                    <button class="cat-btn active" data-cat="all">Todos</button>
                    <button class="cat-btn" data-cat="calzas">Calzas</button>
                    <button class="cat-btn" data-cat="abrigo">Abrigo</button>
                    <button class="cat-btn" data-cat="calzado">Calzado</button>
                    <button class="cat-btn" data-cat="medias">Medias</button>
                    <button class="cat-btn" data-cat="pantalones">Pantalones</button>
                    <button class="cat-btn" data-cat="remeras">Remeras</button>
                </div>

                <div class="catalog-meta">
                    <span id="result-count">Mostrando 0 productos</span>
                </div>
            </div>

            <div id="products-grid" class="products-grid">
                <!-- Example product card structure. Add more items as needed. -->
                <article class="product-card" data-cat="calzas" data-name="Calza deportiva negra"
                    data-desc="Calza elástica, secado rápido" data-tags="deportiva algodon elastano negra">
                    <img src="img/banner/calzas.png" alt="Calza deportiva negra">
                    <div class="product-info">
                        <h3 class="product-name">Calza deportiva negra</h3>
                        <p class="product-desc">Calza elástica, secado rápido</p>
                        <p class="product-price">$1.290</p>
                    </div>
                </article>

                <article class="product-card" data-cat="abrigo" data-name="Campera acolchada"
                    data-desc="Abrigo térmico, capucha desmontable" data-tags="abrigo campera acolchado invierno">
                    <img src="img/banner/camperas.png" alt="Campera acolchada">
                    <div class="product-info">
                        <h3 class="product-name">Campera acolchada</h3>
                        <p class="product-desc">Abrigo térmico, capucha desmontable</p>
                        <p class="product-price">$4.990</p>
                    </div>
                </article>

                <article class="product-card" data-cat="calzado" data-name="Championes running"
                    data-desc="Suela ligera, amortiguación" data-tags="championes calzado running entrenamiento">
                    <img src="img/banner/championes.png" alt="Championes running">
                    <div class="product-info">
                        <h3 class="product-name">Championes running</h3>
                        <p class="product-desc">Suela ligera, amortiguación</p>
                        <p class="product-price">$3.200</p>
                    </div>
                </article>

                <article class="product-card" data-cat="medias" data-name="Medias tobilleras pack 3"
                    data-desc="Algodón peinado, refuerzo talón" data-tags="medias pack 3 tobilleras algodon">
                    <img src="img/banner/medias.png" alt="Medias tobilleras pack 3">
                    <div class="product-info">
                        <h3 class="product-name">Medias tobilleras pack 3</h3>
                        <p class="product-desc">Algodón peinado, refuerzo talón</p>
                        <p class="product-price">$590</p>
                    </div>
                </article>

                <article class="product-card" data-cat="pantalones" data-name="Pantalón chino beige"
                    data-desc="Corte recto, bolsillos clásicos" data-tags="pantalones chino beige casual">
                    <img src="img/banner/pantalones.png" alt="Pantalón chino beige">
                    <div class="product-info">
                        <h3 class="product-name">Pantalón chino beige</h3>
                        <p class="product-desc">Corte recto, bolsillos clásicos</p>
                        <p class="product-price">$2.150</p>
                    </div>
                </article>

                <article class="product-card" data-cat="remeras" data-name="Remera básica blanca"
                    data-desc="100% algodón, corte moderno" data-tags="remeras basica blanca algodon">
                    <img src="img/banner/remeras.png" alt="Remera básica blanca">
                    <div class="product-info">
                        <h3 class="product-name">Remera básica blanca</h3>
                        <p class="product-desc">100% algodón, corte moderno</p>
                        <p class="product-price">$890</p>
                    </div>
                </article>

                <!-- more sample products to show category diversity -->
                <article class="product-card" data-cat="calzas" data-name="Calza estampada"
                    data-desc="Estampado floral, cintura alta" data-tags="calzas estampada cintura alta floral">
                    <img src="img/banner/calzas.png" alt="Calza estampada">
                    <div class="product-info">
                        <h3 class="product-name">Calza estampada</h3>
                        <p class="product-desc">Estampado floral, cintura alta</p>
                        <p class="product-price">$1.590</p>
                    </div>
                </article>

                <article class="product-card" data-cat="abrigo" data-name="Saco de lana"
                    data-desc="Sutil mezcla de lana, ideal para oficina" data-tags="saco abrigo lana elegante">
                    <img src="img/banner/camperas.png" alt="Saco de lana">
                    <div class="product-info">
                        <h3 class="product-name">Saco de lana</h3>
                        <p class="product-desc">Sutil mezcla de lana, ideal para oficina</p>
                        <p class="product-price">$5.800</p>
                    </div>
                </article>

                <article class="product-card" data-cat="calzado" data-name="Botín urbano"
                    data-desc="Cuero sintético, suela antideslizante" data-tags="botin calzado urbano cuero">
                    <img src="img/banner/championes.png" alt="Botín urbano">
                    <div class="product-info">
                        <h3 class="product-name">Botín urbano</h3>
                        <p class="product-desc">Cuero sintético, suela antideslizante</p>
                        <p class="product-price">$3.950</p>
                    </div>
                </article>

                <article class="product-card" data-cat="remeras" data-name="Remera estampada manga corta"
                    data-desc="Estampa exclusiva EVANOVA" data-tags="remera estampada manga corta urbana">
                    <img src="img/banner/remeras.png" alt="Remera estampada manga corta">
                    <div class="product-info">
                        <h3 class="product-name">Remera estampada manga corta</h3>
                        <p class="product-desc">Estampa exclusiva EVANOVA</p>
                        <p class="product-price">$1.050</p>
                    </div>
                </article>

                <article class="product-card" data-cat="pantalones" data-name="Jogger gris"
                    data-desc="Tela suave, cintura elasticada" data-tags="jogger pantalon deportivo gris elastico">
                    <img src="img/banner/pantalones.png" alt="Jogger gris">
                    <div class="product-info">
                        <h3 class="product-name">Jogger gris</h3>
                        <p class="product-desc">Tela suave, cintura elasticada</p>
                        <p class="product-price">$1.750</p>
                    </div>
                </article>
            </div>
        </div>
    </section>

    <!-- Sobre nosotros -->
    <section id="about" class="about-section">
        <div class="container">
            <div class="about-grid">
                <h2>Sobre Nosotros</h2>
                <div class="about-content">
                    <div class="about-media">
                        <img src="https://wallpapers.com/images/hd/clothing-store-pictures-lgzj7293zmxj7ctv.jpg"
                            alt="Tienda EVANOVA" />
                    </div>
                    <div class="elements">
                        <p>
                            En EVANOVA nos apasiona la moda responsable y accesible. Somos un equipo
                            uruguayo dedicado a ofrecer ropa de calidad con diseño contemporáneo,
                            cuidando los detalles y promoviendo prácticas sostenibles.
                        </p>

                        <ul class="about-values">
                            <li><i class="fa-solid fa-seedling"></i> Sostenibilidad</li>
                            <li><i class="fa-solid fa-star"></i> Calidad</li>
                            <li><i class="fa-solid fa-handshake-angle"></i> Cercanía</li>
                        </ul>

                        <div class="about-cta">
                            <p class="mission"><strong>Misión:</strong> Vestir con estilo sin sacrificar el planeta.</p>
                            <a class="btn" href="#contact">Contáctanos</a>
                        </div>
                    </div>
                </div>
            </div>

            <div class="team">
                <h3>Nuestro equipo</h3>
                <div class="team-grid">
                    <div class="team-member">
                        <img src="img/team/person1.jpg" alt="Equipo - Persona 1">
                        <h4>Ana Pérez</h4>
                        <p>Diseño & Curaduría</p>
                    </div>
                    <div class="team-member">
                        <img src="img/team/person2.jpg" alt="Equipo - Persona 2">
                        <h4>Lucas Gómez</h4>
                        <p>Producción</p>
                    </div>
                    <div class="team-member">
                        <img src="img/team/person3.jpg" alt="Equipo - Persona 3">
                        <h4>María Díaz</h4>
                        <p>Atención al cliente</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <script src="js/jQuery.js"></script>
    <script>
        jQuery(document).ready(function ($) {
            $(".slider-img").on("click", function () {
                $(".slider-img").removeClass("active");
                $(this).addClass("active");
            });
        });

        (function () {
            // Utilities
            function normalizeText(str) {
                return (str || '').toLowerCase().normalize('NFD').replace(/[\u0300-\u036f]/g, '');
            }

            function debounce(fn, wait) {
                let t;
                return function () {
                    clearTimeout(t);
                    t = setTimeout(() => fn.apply(this, arguments), wait);
                };
            }

            // Elements
            const searchInput = document.getElementById('catalog-search');
            const clearBtn = document.getElementById('clear-search');
            const catButtons = Array.from(document.querySelectorAll('.cat-btn'));
            const productsGrid = document.getElementById('products-grid');
            const productCards = Array.from(document.querySelectorAll('.product-card'));
            const resultCount = document.getElementById('result-count');

            // Store original text to support highlighting reset
            productCards.forEach(card => {
                const nameEl = card.querySelector('.product-name');
                const descEl = card.querySelector('.product-desc');
                if (nameEl) card.dataset.nameOriginal = nameEl.textContent;
                if (descEl) card.dataset.descOriginal = descEl.textContent;
            });

            // Active categories (empty = all)
            function getActiveCategories() {
                const active = catButtons.filter(b => b.classList.contains('active')).map(b => b.dataset.cat);
                // if "all" active or none selected => treat as all
                if (active.length === 0 || active.includes('all')) return [];
                return active;
            }

            // Filtering logic: split search into tokens, require that each token appears somewhere in the product's searchable text
            function matchesSearch(card, tokens) {
                if (tokens.length === 0) return true;
                const combined = (card.dataset.name + ' ' + (card.dataset.desc || '') + ' ' + (card.dataset.tags || '')).toLowerCase();
                const norm = normalizeText(combined);
                return tokens.every(t => norm.indexOf(normalizeText(t)) !== -1);
            }

            function highlightText(text, tokens) {
                if (!tokens.length) return text;
                let out = text;
                // Escape for regex
                tokens.forEach(tok => {
                    const t = tok.trim();
                    if (!t) return;
                    const esc = t.replace(/[.*+?^${}()|[\]\\]/g, '\\$&');
                    const rx = new RegExp(esc, 'ig');
                    out = out.replace(rx, match => `<mark>${match}</mark>`);
                });
                return out;
            }

            function applyFilters() {
                const searchVal = searchInput.value.trim();
                const tokens = searchVal === '' ? [] : searchVal.split(/\s+/);
                const activeCats = getActiveCategories();

                let visibleCount = 0;

                productCards.forEach(card => {
                    // category filter
                    const cat = card.dataset.cat;
                    const catMatches = (activeCats.length === 0) || activeCats.includes(cat);

                    // search filter
                    const searchMatches = matchesSearch(card, tokens);

                    const shouldShow = catMatches && searchMatches;

                    // reset highlight to original first
                    const nameEl = card.querySelector('.product-name');
                    const descEl = card.querySelector('.product-desc');
                    if (nameEl && card.dataset.nameOriginal) nameEl.innerHTML = card.dataset.nameOriginal;
                    if (descEl && card.dataset.descOriginal) descEl.innerHTML = card.dataset.descOriginal;

                    if (shouldShow) {
                        // highlight terms in name and desc
                        if (tokens.length) {
                            if (nameEl) nameEl.innerHTML = highlightText(nameEl.textContent, tokens);
                            if (descEl) descEl.innerHTML = highlightText(descEl.textContent, tokens);
                        }
                        card.style.display = '';
                        visibleCount++;
                    } else {
                        card.style.display = 'none';
                    }
                });

                // If no results, show message
                if (visibleCount === 0) {
                    if (!document.querySelector('.no-results')) {
                        const msg = document.createElement('div');
                        msg.className = 'no-results';
                        msg.textContent = 'No se encontraron productos. Ajusta la búsqueda o filtros.';
                        productsGrid.parentNode.appendChild(msg);
                    }
                } else {
                    const existing = document.querySelector('.no-results');
                    if (existing) existing.remove();
                }

                resultCount.textContent = `Mostrando ${visibleCount} productos`;
            }

            // Events
            catButtons.forEach(btn => {
                btn.addEventListener('click', function () {
                    // Toggle logic: clicking 'all' clears others; clicking a category toggles it and deactivates 'all'
                    const cat = this.dataset.cat;
                    if (cat === 'all') {
                        catButtons.forEach(b => b.classList.remove('active'));
                        this.classList.add('active');
                    } else {
                        // remove 'all' active
                        catButtons.find(b => b.dataset.cat === 'all').classList.remove('active');
                        this.classList.toggle('active');
                        // if none left active, default back to 'all'
                        const anyActiveNonAll = catButtons.some(b => b.dataset.cat !== 'all' && b.classList.contains('active'));
                        if (!anyActiveNonAll) {
                            catButtons.forEach(b => b.classList.remove('active'));
                            catButtons.find(b => b.dataset.cat === 'all').classList.add('active');
                        }
                    }
                    applyFilters();
                });
            });

            const debouncedApply = debounce(applyFilters, 180);
            searchInput.addEventListener('input', debouncedApply);
            clearBtn.addEventListener('click', function () {
                searchInput.value = '';
                searchInput.focus();
                applyFilters();
            });

            // initialize
            // mark "all" as active at start
            catButtons.forEach(b => { if (b.dataset.cat === 'all') b.classList.add('active'); });
            applyFilters();
        })();
    </script>
</body>

</html>